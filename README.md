# 닉네임 랜덤 생성 충돌 실험  

## 목차

- [닉네임 랜덤 생성 충돌 실험](#닉네임-랜덤-생성-충돌-실험)
  - [목차](#목차)
  - [닉네임 생성 규칙](#닉네임-생성-규칙)
  - [실험](#실험)
    - [실험 환경](#실험-환경)
      - [변수 설정](#변수-설정)
      - [$M$에 따른 문자 변형 개수](#m에-따른-문자-변형-개수)
      - [단어 목록 정보](#단어-목록-정보)
    - [실험 결과](#실험-결과)
    - [결과 분석](#결과-분석)
  - [부록](#부록)
    - [닉네임 예시](#닉네임-예시)

## 닉네임 생성 규칙  

사전에 준비된 단어 목록에서 길이가 $[L, R]$ 범위인 단어들을 각각 동일한 확률로 선택한 뒤, 선택된 단어들을 임의의 순서로 연결해 닉네임을 생성한다. 이때, 선택된 단어로 생성할 수 있는 문자열의 길이와 목표 문자열 길이의 차이가 $L$미만이라면 0..9, a..z, A..Z 문자를 사용해 더미 단어를 생성한다.  

단어 목록에서 선택된 단어는 실제로 닉네임에 반영되기 전에 일부 문자에 변형이 가해진다. 변형이 가해지는 문자의 수는 미리 설정된 상수 $M$에 의해 결정된다. 선택된 단어의 길이를 $W$라 하면, $\lfloor \frac{W}{M}\rceil$개의 문자가 변형된다. 적용되는 변형 규칙은 문자의 위치에 따라 다소 차이를 지닌다. 만약 변형되는 문자가 단어의 첫 문자라면 해당 문자는 반드시 A..Z 중 하나의 값으로 결정된다. 그렇지 않은 경우엔 0..9, a..z 중 하나의 값으로 결정되며, 이때는 0..9 문자보다 a..z 문자에 더 큰 가중치가 부여된다.  

## 실험  

### 실험 환경  

본 실험은 MSVC의 C++ 구현체를 사용하였으며, 의사 난수 생성기로는 해당 벤더에 의해 구현된 Mersenne Twister 엔진을 사용하였다.  

#### 변수 설정  

|변수 이름|값|
|-|-:|
|닉네임 길이|8|
|L|3|
|R|8|
|M|2.7|

#### $M$에 따른 문자 변형 개수  

|길이|변형 문자 개수|
|:-|-:|
|3|1개|
|4|1개|
|5|2개|
|6|2개|
|7|3개|
|8|3개|

#### [단어 목록 정보](https://github.com/wordnik/wordlist)  

|길이|개수|
|:-|-:|
|1|2개|
|2|126개|
|3|1344개|
|4|5595개|
|5|11846개|
|6|18195개|
|7|25388개|
|8|31593개|
|9|30833개|
|10|23485개|
|11|16948개|
|12|11981개|

### 실험 결과  

|사전 생성 닉네임 수|중복 검사 횟수|R/E 재사용|R/E 타입|충돌 횟수|충돌 확률|
|-:|-|-|-|-:|-:|
|10,000개|50,000,000회|Y|32bit|11회|0.000022%|
|10,000개|50,000,000회|Y|64bit|14회|0.000028%|
|10,000개|50,000,000회|N|32bit|127회|0.000254%|
|10,000개|50,000,000회|N|64bit|131회|0.000262%|
|100,000개|50,000,000회|Y|32bit|111회|0.000222%|
|100,000개|50,000,000회|Y|64bit|98회|0.000196%|
|100,000개|50,000,000회|N|32bit|1249회|0.002498%|
|100,000개|50,000,000회|N|64bit|1284회|0.002568%|
|1,000,000개|50,000,000회|Y|32bit|1196회|0.002392%|
|1,000,000개|50,000,000회|Y|64bit|1180회|0.002360%|
|1,000,000개|50,000,000회|N|32bit|12955회|0.025910%|
|1,000,000개|50,000,000회|N|64bit|12940회|0.025880%|
|5,000,000개|50,000,000회|Y|32bit|6073회|0.012146%|
|5,000,000개|50,000,000회|Y|64bit|5948회|0.011896%|
|5,000,000개|50,000,000회|N|32bit|63843회|0.127686%|
|5,000,000개|50,000,000회|N|64bit|64897회|0.129794%|
|10,000,000개|50,000,000회|Y|32bit|11701회|0.023402%|
|10,000,000개|50,000,000회|Y|64bit|11670회|0.023340%|
|10,000,000개|50,000,000회|N|32bit|128281회|0.256561%|
|10,000,000개|50,000,000회|N|64bit|128791회|0.257582%|
|20,000,000개|50,000,000회|Y|32bit|23492회|0.046984%|
|20,000,000개|50,000,000회|Y|64bit|23446회|0.046892%|
|20,000,000개|50,000,000회|N|32bit|257340회|0.514680%|
|20,000,000개|50,000,000회|N|64bit|257022회|0.514044%|

### 결과 분석  

본 실험에서 확인하고자 했던 주요 내용은 아래와 같으며, 이는 위의 실험 결과에도 반영되었다.  

1. C++의 의사 난수 생성기의 사용 용례에 따른 난수 신뢰성  
2. 이미 존재하는 닉네임의 개수와 충돌 확률의 상관 관계  

실험 결과를 통해 의사 난수 생성기의 인스턴스를 재사용하지 않고 매번 임의의 난수를 시드로 설정하여 새로운 인스턴스를 생성할 경우, 닉네임 충돌 확률이 10배가량 높아지는 것을 확인할 수 있다. 추가로 난수 생성의 범위(32bit/64bit)는 실제 충돌 확률과는 유의미한 상관관계를 확인할 수 없었다. 이는 실제 생성된 난수가 최종적으로 사상되는 수 공간의 범위가 상당히 좁은 영역이기 때문으로 추측된다. 또한, 닉네임 충돌 확률은 실험 범위 내에서는 이미 존재하는 닉네임의 개수에 선형적으로 비례함을 확인할 수 있었다.  

## 부록  

### 닉네임 예시  

```text
Hatu3eqy
Xumpiyat
Porpunes
OaahGrnb
eaRaznly
Mkelpqug
Momserex
Doysqots
Mdglpqex
Cjbdboma
KaidVal7
wSoz7bgx
Cnataips
WaiQuhur
Sedftj8j
sJAnasiq
TebUo2py
AenPclon
YeafCuss
Atcroxyx
Zlrewtng
eUro7gsd
Qncision
Qgumlaja
fKsnsErb
Cagdwdia
YnyurymY
Cucronhl
Buarav5s
Brmdoonb
Sc6dgsre
Mnhu4eii
Mainedpl
gWpm1nts
Htodkpo3
Fvavanh8
a3Uamjer
AgsCrind
Jna8pelj
nnNookau
iIfomasj
yzCkdiyg
Llacinwj
epQlu2es
eVRfofus
Rowbiibt
Urhlodst
y9M5gred
Goyaerng
WoffMimk
wQolxped
Tohquynh
Glinpvng
dhPdteum
Reuivtid
D4zuledu
zCestres
mL9cuo2s
Regofren
h1Ig0lre
Kcnas0yV
Grdaxbrs
lZy5sick
WargFben
```
